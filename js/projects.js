var projects = {
    "#personal": [
        {
            "title": "Keylogger",
            "description": "Registro de pulsaciones de teclado.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Documentador",
            "description": "Generación automatica de documentación en Python.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "PI",
            "description": "Calculo de 1 a 10 dígitos de la constante pi usando series.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Conversor de divisas",
            "description": "Conversión de colones a dolares y viceversa.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Generador UML Java",
            "description": "Creación de diagrama de UML para código en Java.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Simulador de físicas",
            "description": "Simulación de físcas de movimiento.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Finanzas",
            "description": "Registro de ingresos y gastos.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Sitio Web",
            "description": "Página web de contacto y portafolio.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        }
    ],
    "#colaborative": [
        {
            "title": "Rescue Hubble",
            "description": "Juego móvil acerca de rescatar el Telescopio Espacial Hubble.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Escape Room",
            "description": "Juego de realidad Virtual que consiste en resulver acertijos para poder escapar.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        }
    ],
    "#work": [
        {
            "title": "EULER",
            "description": "Editor matemático que sirve como puente entre personas con discapacidad visual y personas con vista.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        }
    ],
    "#university": [
        {
            "title": "Cifrador",
            "description": "Programa que cifra mensajes en uno de los 8 tipos de cifrado disponibles y luego lo envía por correo.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "PokePad",
            "description": "Búsqueda de información de pokémones de primera generación con posibilidad de marcarlos como favoritos.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Registro de personas",
            "description": "Sistema de registro de personas que lleva control de árbol genealógico y genera certificados de nacimiento.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Traductor de números a japonés",
            "description": "Programa que recibe un número entre 0 y 9999 e imprime su nombre en japonés.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Supermercados",
            "description": "Sistema de compras en diferentes supermercados con sistema de usuarios y facturación.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Registro de clientes",
            "description": "Registro y búsqueda de clientes haciendo uso de listas enlanzadas y árboles búsqueda.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Simulador de CPU",
            "description": "Simulación de un procesador ejecutando un programa de multiplicación por sumas.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Sistema de Transportes",
            "description": "Aplicación que maneja los servicios de transporte prestados por una institución.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Base de Datos de Granja",
            "description": "Base de Datos diseñada para una granja que produce huevos.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Base de Datos de Red de Cuido",
            "description": "Base de Datos que maneja usuarios, facturas y calificaciones de usuarios.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Minijuegos",
            "description": "Juego de mesa virtual que consta de 7 minijuegos.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Planificador de hormigas",
            "description": "Programa que planifica la ruta de hormigas para maximar la recolección de hojas.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "BlackJack",
            "description": "BlackJack virtual que permite juego en línea.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Sistema Gestor de Bases de Datos",
            "description": "Sistema que permite crear y gestionar bases de datos.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Proteinas",
            "description": "Programa que modela el comportamiento de proteinas.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Safisfacción booleana",
            "description": "Programa usando un método heurístico determina si una función booleana presenta una combinación que resulte en 1.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Desencripción de AES",
            "description": "Programa que de manera probabilistica determina los caracteres faltantes en una llave de AES..",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Base de Datos de Soporte al Cliente",
            "description": "Base de datos que factura y lleva control del soporte técnico brindado a los clientes.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Generación de Imágenes",
            "description": "Programa que genera una imagen dada a partir de algoritmos genéticos.",
            "image": "/img/Pic_20170706_203225_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Juego de Desencripción",
            "description": "Juego que trata de descifrar el mensaje envíado por otro juagador.",
            "image": "/img/148221.jpg",
            "url": "/html/projectInformation.html"
        },
        {
            "title": "Evaluación de funciones en paralelo",
            "description": "Programa que valua un arreglo de valores en una función de manera paralela.",
            "image": "/img/Pic_20171107_203753_4096x2160.png",
            "url": "/html/projectInformation.html"
        },
    ]
};

const ROW_LENGHT = 4;

function applyProjectsStyle(){
    const projects = $(".projects .projectsShowcase .project");
    projects.hover(function(){
        $(this).css("opacity", "0.5");
    }, function(){
        $(this).css("opacity", "1");
    });
    projects.click(function() {
        var link = $(this).find(".link").attr("href");
        if(!link){
            link = $(this).find("project-card").attr("href");
        }
        window.location.href = link;
    });
}

function insertProjects(){
    $.each(projects, function(key, value){
        var projectCount = 0;
        var showcase = createShowcase($(key).parent().parent());
        $.each(value, function(index, value){
            if(projectCount == ROW_LENGHT){
                projectCount = 0;
                showcase = createShowcase(showcase);
            }
            showcase.append(createProjectCard(value));
            projectCount++;
        });
        verifyAligment(projectCount, showcase);
    });
}

function verifyAligment(projectCount, showcase){
    const remaining = projectCount % ROW_LENGHT;
    if(remaining != 0){
        const cardsNedeed = ROW_LENGHT - remaining;
        for(var card = 0; card < cardsNedeed; card++){
            showcase.append(createEmptyCard());
        }
    }
}

function createEmptyCard(){
    return "<td class='emptyCard'></td>";
}

function createShowcase(base){
    return base.after("<tr class='projectsShowcase'></tr>").next();
}

function createProjectCard(info){
    return "<div class='project'>\n\t<project-card image='" + info["image"] + "' title='" + 
            info["title"] + "' href='" + info["url"] + "'>" + info["description"] + 
            "</project-card>\n</div>";
}

function selectRandomProjects(){
    insertProject(projects["#personal"]);
    if(getRandomBoolean()){
        insertProject(projects["#colaborative"]);
    }else{
        insertProject(projects["#work"]);
    }
    insertProject(projects["#university"]);
}

function insertProject(candidates){
    $("#selectedProjects").prepend(createProjectCard(candidates[getRandomNumber(candidates.length)]));
}

function getRandomNumber(max){
    return Math.floor(Math.random() * max);
}

function getRandomBoolean(){
    return Math.round(Math.random());
}

$(document).ready(() => {
    insertProjects();
    selectRandomProjects();
    applyProjectsStyle();
});